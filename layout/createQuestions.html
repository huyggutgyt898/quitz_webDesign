<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>T·∫°o C√¢u H·ªèi - QUIZZKIT</title>

  <!-- CSS -->
  <link rel="stylesheet" href="Styles/createQuestions.css">
     <script>
    if (!localStorage.getItem("loggedIn")) {
        window.location.href = "login.html";
    }
    </script>
    <link rel="stylesheet" href="Styles/layout.css" />
    <link rel="stylesheet" href="Styles/home.css" />
    <link rel="stylesheet" href="Styles/modelform.css" />
    <link rel="stylesheet" href="Styles/leaderboard.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="Scripts/auth.js"></script>
</head>

<body>

  <!-- OVERLAY -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- SIDEBAR -->
    <aside class="layout-sidebar" id="sidebar">
        <div class="layout-sidebar__user">
            <img src="Images/Avatar.jpg" alt="Avatar" class="layout-sidebar__user-avatar">
            <div class="layout-sidebar__user-info">
                <div class="layout-sidebar__username">Guest User</div>
                <div class="layout-sidebar__usertag">Th√†nh vi√™n</div>
            </div>
        </div>
        <a class="layout-sidebar__item" href="index.html"><i class="fas fa-home mr-2"></i> Trang ch·ªß</a>
        <a class="layout-sidebar__item" href="createQuestions.html"><i class="fas fa-question-circle mr-2"></i> T·∫°o c√¢u h·ªèi</a>
        <!-- TH√äM LINK XEM C√ÇU H·ªéI V√ÄO SIDEBAR -->
        <a class="layout-sidebar__item" href="./showQuestion.html"><i class="fas fa-eye mr-2"></i> Xem c√¢u h·ªèi</a>
        <!-- TH√äM LINK KHO ƒê·ªÄ V√ÄO SIDEBAR (ƒë√£ c√≥ s·∫µn nh∆∞ng ƒë·ªÉ r√µ h∆°n) -->
        <a class="layout-sidebar__item" href="questionLibrary.html"><i class="fas fa-folder-open mr-2"></i> Kho ƒë·ªÅ</a>
        <a class="layout-sidebar__item" href="profile.html"><i class="fas fa-user mr-2"></i> T√†i kho·∫£n</a>
        <a class="layout-sidebar__item" href="settings.html"><i class="fas fa-cog mr-2"></i> C√†i ƒë·∫∑t</a>
    </aside>

    <!-- MAIN -->
    <div class="layout-main">
        <!-- TOPBAR -->
        <header class="layout-topbar">
            <div class="layout-topbar__left">
                <div class="hamburger-menu" id="hamburgerMenu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="layout-topbar__logo">QUIZZKIT</div>
            </div>
            <div class="layout-topbar__search">
                <input type="text" placeholder="T√¨m ki·∫øm kh√≥a h·ªçc, quiz..." />
            </div>
            <div class="layout-topbar__avatar">
                <img src="Images/Avatar.jpg" alt="avatar" id="avatarBtn"/>
                <div class="layout-topbar__avatar-dropdown" id="avatarDropdown">
                    <a href="settings.html">C√†i ƒë·∫∑t</a>
                    <a href="login.html" onclick="logoutUser(event)">ƒêƒÉng xu·∫•t</a>
                </div>
            </div>
        </header>

        <!-- NAVBAR -->
        <nav class="layout-navbar">
            <a class="layout-navbar__item" href="index.html">Trang ch·ªß</a>
            <!-- TH√äM LINK KHO ƒê·ªÄ V√ÄO NAVBAR -->
            <a class="layout-navbar__item active" href="questionLibrary.html">Kho ƒë·ªÅ</a>
            <div class="dropdown">
                <a class="layout-navbar__item " href="modelform.html">M√¥n h·ªçc <i class="fas fa-chevron-down text-xs"></i></a>
        <div class="dropdown-content">
            <a href="modelform.html" class="dropdown-item">T·∫•t c·∫£</a>
            <a href="modelform.html?category=math" class="dropdown-item">To√°n h·ªçc</a>
            <a href="modelform.html?category=physics" class="dropdown-item">V·∫≠t l√Ω</a>
            <a href="modelform.html?category=chemistry" class="dropdown-item">H√≥a h·ªçc</a>
            <a href="modelform.html?category=biology" class="dropdown-item">Sinh h·ªçc</a>
            <a href="modelform.html?category=literature" class="dropdown-item">Ng·ªØ vƒÉn</a>
            <a href="modelform.html?category=english" class="dropdown-item">Ti·∫øng Anh</a>
            <a href="modelform.html?category=history" class="dropdown-item">L·ªãch s·ª≠</a>
            <a href="modelform.html?category=geography" class="dropdown-item">ƒê·ªãa l√Ω</a>
            <a href="modelform.html?category=computer" class="dropdown-item">Tin h·ªçc</a>
            <a href="modelform.html?category=civics" class="dropdown-item">GDCD</a>
        </div>
    </div>
            <a class="layout-navbar__item" href="createQuestions.html">T·∫°o c√¢u h·ªèi</a>
            <!-- TH√äM LINK XEM C√ÇU H·ªéI V√ÄO NAVBAR -->
            <div class="relative group">
    <a class="layout-navbar__item flex items-center gap-1">
        B·∫£ng x·∫øp h·∫°ng <i class="fas fa-chevron-down text-xs ml-1"></i>
    </a>

    <div class="leaderboard-dropdown" x-data>
        <a href="leaderboard.html?tab=players"
           class="block"
           :class="{ 'active bg-yellow-50 ring-2 ring-yellow-400 rounded-lg': currentUrlTab() === 'players' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-trophy text-yellow-600"></i></span>
                <div><div class="title">Top Ng∆∞·ªùi Ch∆°i</div><div class="desc">ƒêi·ªÉm cao nh·∫•t tu·∫ßn</div></div>
            </button>
        </a>

        <a href="leaderboard.html?tab=questions"
           class="block"
           :class="{ 'active bg-orange-50 ring-2 ring-orange-400 rounded-lg': currentUrlTab() === 'questions' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-fire text-orange-600"></i></span>
                <div><div class="title">B√†i Gi·∫£ng Hot Nh·∫•t</div><div class="desc">L∆∞·ª£t ch∆°i nhi·ªÅu nh·∫•t</div></div>
            </button>
        </a>

        <a href="leaderboard.html?tab=followers"
           class="block"
           :class="{ 'active bg-pink-50 ring-2 ring-pink-400 rounded-lg': currentUrlTab() === 'followers' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-heart text-pink-600"></i></span>
                <div><div class="title">ƒê∆∞·ª£c Follow Nhi·ªÅu Nh·∫•t</div><div class="desc">Idol c·ªông ƒë·ªìng</div></div>
            </button>
        </a>

        <a href="leaderboard.html?tab=creators"
           class="block"
           :class="{ 'active bg-purple-50 ring-2 ring-purple-400 rounded-lg': currentUrlTab() === 'creators' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-pen-nib text-purple-600"></i></span>
                <div><div class="title">T√°c Gi·∫£ N·ªïi B·∫≠t</div><div class="desc">T·∫°o quiz ch·∫•t l∆∞·ª£ng</div></div>
            </button>
        </a>
    </div>
</div>

<!-- H√†m nh·ªè n√†y ƒë·ªÉ dropdown ·ªü c√°c trang kh√°c v·∫´n highlight ƒë√∫ng -->
<script>
function currentUrlTab() {
    const params = new URLSearchParams(window.location.search);
    const tab = params.get('tab');
    const valid = ['players', 'questions', 'followers', 'creators'];
    return tab && valid.includes(tab) ? tab : 'players';
}
</script>
            <a class="layout-navbar__item" href="profile.html">T√†i kho·∫£n</a>
        </nav>

    <!-- CONTENT -->
    <section class="layout-content">


      <!-- ========== STEP 1 ========== -->
      <div id="step1" class="step-container">

        <div class="page-header">
          <h1>üéØ Thi·∫øt L·∫≠p B·ªô ƒê·ªÅ</h1>
          <p>ƒêi·ªÅn th√¥ng tin c∆° b·∫£n tr∆∞·ªõc khi t·∫°o c√¢u h·ªèi</p>
        </div>

        <div class="setup-section">

          <div class="form-group">
            <label>T√™n B·ªô ƒê·ªÅ <span class="required">*</span></label>
            <input type="text" id="quizTitle" placeholder="V√≠ d·ª•: ƒê·ªÅ √¥n t·∫≠p c·∫•u tr√∫c d·ªØ li·ªáu">
          </div>

          <div class="form-group">
            <label>M√¥n h·ªçc <span class="required">*</span></label>
            <select id="quizSubject">
              <option value="math">To√°n h·ªçc</option>
              <option value="physics">V·∫≠t l√Ω</option>
              <option value="chemistry">H√≥a h·ªçc</option>
              <option value="biology">Sinh h·ªçc</option>
              <option value="english">Ti·∫øng Anh</option>
              <option value="literature">VƒÉn h·ªçc</option>
              <option value="history">L·ªãch s·ª≠</option>
              <option value="geography">ƒê·ªãa l√Ω</option>
              <option value="it">Tin h·ªçc</option>
              <option value="iq">IQ/Tr√≠ tu·ªá</option>
              <option value="other">Kh√°c</option>
            </select>
          </div>

          <div class="form-group">
            <label>S·ªë l∆∞·ª£ng c√¢u h·ªèi <span class="required">*</span></label>
            <input type="number" id="quizQuestionCount" value="10" min="1" max="100">
          </div>

          <div class="form-group">
            <label>M√¥ t·∫£ (t√πy ch·ªçn)</label>
            <textarea id="quizDescription"></textarea>
          </div>

          <!-- Upload ·∫£nh -->
          <div class="form-group">
            <label>·∫¢nh minh h·ªça (t√πy ch·ªçn)</label>

            <div class="image-preview" id="imagePreview">
              <div id="imagePlaceholder" class="image-placeholder">
                <span>üì∑</span>
                <p>Nh·∫•n ƒë·ªÉ ch·ªçn ·∫£nh</p>
              </div>
              <img id="previewImg" style="display:none;">
              <button type="button" id="removeImageBtn" class="remove-image-btn" style="display:none;">√ó</button>
            </div>

            <input type="file" id="quizImage" accept="image/*" style="display:none;">
          </div>

          <button class="btn btn-primary btn-large" id="startCreatingBtn">B·∫Øt ƒë·∫ßu ‚Üí</button>

        </div>
           <div class="back-box">
    
</div>
<a href="create.html" class="back-btn">‚Üê Quay l·∫°i</a> 
      </div>


      <!-- ========== STEP 2 ========== -->
      <div id="step2" class="step-container" style="display:none;">

        <div class="quiz-info-header">
          <div class="quiz-info-left">
            <h2 id="displayQuizTitle"></h2>
            <p id="displayQuizSubject"></p>
          </div>

          <div class="quiz-info-right">
            <div class="progress-info">
              <span>Ti·∫øn ƒë·ªô: <strong id="progressText">0/10</strong></span>
              <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
            </div>
            <button class="btn btn-secondary btn-small" id="backToStep1Btn">‚Üê Quay l·∫°i</button>
          </div>
        </div>

        <!-- FORM T·∫†O C√ÇU H·ªéI -->
        <div class="create-section">
          <h3 id="formTitle">‚ûï Th√™m C√¢u H·ªèi M·ªõi</h3>

          <div class="form-group">
            <label>C√¢u h·ªèi <span class="required">*</span></label>
            <textarea id="questionInput" rows="3"></textarea>
          </div>

          <div class="form-group">
            <label>ƒê√°p √°n (ch·ªçn ƒë√°p √°n ƒë√∫ng)</label>

            <div class="answers-grid">

              <div class="answer-item">
                <input type="radio" name="correctAnswer" value="0">
                <span class="answer-label">A.</span>
                <input type="text" id="answer0" placeholder="Nh·∫≠p ƒë√°p √°n A">
              </div>

              <div class="answer-item">
                <input type="radio" name="correctAnswer" value="1">
                <span class="answer-label">B.</span>
                <input type="text" id="answer1" placeholder="Nh·∫≠p ƒë√°p √°n B">
              </div>

              <div class="answer-item">
                <input type="radio" name="correctAnswer" value="2">
                <span class="answer-label">C.</span>
                <input type="text" id="answer2" placeholder="Nh·∫≠p ƒë√°p √°n C">
              </div>

              <div class="answer-item">
                <input type="radio" name="correctAnswer" value="3">
                <span class="answer-label">D.</span>
                <input type="text" id="answer3" placeholder="Nh·∫≠p ƒë√°p √°n D">
              </div>

            </div>
          </div>

          <div class="button-group">
            <button class="btn btn-primary" id="addQuestionBtn">‚ûï Th√™m c√¢u h·ªèi</button>
            <button class="btn btn-warning" id="cancelEditBtn" style="display:none;">H·ªßy</button>
          </div>

        </div>

        <!-- DANH S√ÅCH C√ÇU H·ªéI -->
        <div class="questions-list">
          <div class="questions-list-header">
            <h2>üìù Danh s√°ch c√¢u h·ªèi <span id="questionCount" class="question-count">0</span></h2>

            <div class="action-buttons">
              <button class="btn btn-success" id="saveBtn">üíæ L∆∞u b·ªô ƒë·ªÅ</button>
              <button class="btn btn-danger" id="clearBtn">üóëÔ∏è X√≥a t·∫•t c·∫£</button>
            </div>

          </div>

          <div id="questionsList">
            <div class="empty-state">
              <div class="empty-state-icon">üìù</div>
              <p>Ch∆∞a c√≥ c√¢u h·ªèi n√†o.</p>
            </div>
          </div>

        </div>

      </div>
      
    </section>

     <!-- FOOTER G·ªêC -->
        <footer class="layout-footer reveal">
            <div class="layout-footer-container">
                <div class="layout-footer-section"><h3>Gi·ªõi thi·ªáu</h3><p>QUIZZKIT l√† n·ªÅn t·∫£ng cung c·∫•p c√°c c√¢u ƒë·ªë vui v√† th·ª≠ th√°ch tr√≠ tu·ªá.</p></div>
                <div class="layout-footer-section"><h3>Li√™n h·ªá</h3><p>Email: <a href="mailto:nhatthanh@quizzz.vn">nhatthanh@quizzz.vn</a></p><p>Hotline: 0123 456 789</p></div>
                <div class="layout-footer-section"><h3>Li√™n k·∫øt nhanh</h3><p><a href="index.html">Trang ch·ªß</a></p><p><a href="quiz.html">C√¢u h·ªèi</a></p><p><a href="leaderboard.html">B·∫£ng x·∫øp h·∫°ng</a></p><p><a href="login.html">ƒêƒÉng nh·∫≠p</a></p></div>
                <div class="layout-footer-section"><h3>C·ªông ƒë·ªìng</h3><p><a href="https://facebook.com" target="_blank">Facebook</a></p><p><a href="https://instagram.com" target="_blank">Instagram</a></p><p><a href="https://discord.com" target="_blank">Discord</a></p></div>
            </div>
            <div class="layout-footer-bottom"><p>¬© 2025 QUIZZKIT. All rights reserved.</p></div>
        </footer>

        <!-- BACK TO TOP V√ÄNG KIM C√ì V√íNG ƒê·∫¶Y D·∫¶N SI√äU M∆Ø·ª¢T -->
        <div x-data="{ percent: 0 }"
             x-init="window.addEventListener('scroll', () => {
                 const s = document.documentElement.scrollTop || document.body.scrollTop;
                 const h = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                 percent = h ? Math.round((s / h) * 100) : 0;
             })"
             class="fixed bottom-8 right-8 z-50">

            <button @click="window.scrollTo({top:0,behavior:'smooth'})"
                    x-show="percent > 20"
                    x-transition
                    class="w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-amber-600 shadow-2xl flex items-center justify-center text-white text-3xl hover:scale-110 transition-all relative overflow-hidden">

                <svg class="absolute inset-0 w-full h-full -rotate-90">
                    <circle cx="32" cy="32" r="28" stroke="#e5e7eb" stroke-width="6" fill="none"/>
                    <circle cx="32" cy="32" r="28" stroke="url(#gold)" stroke-width="6" fill="none"
                            stroke-dasharray="175.93" :stroke-dashoffset="175.93 - (175.93 * percent / 100)"
                            stroke-linecap="round" class="transition-all duration-300"/>
                    <defs>
                        <linearGradient id="gold">
                            <stop offset="0%" stop-color="#fbbf24"/>
                            <stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                    </defs>
                </svg>
                <i class="fas fa-arrow-up"></i>
            </button>
        </div>

    </div>

  <!-- JS -->
   <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="Scripts/leaderboard.js"></script>
    <script src="Scripts/layout.js"></script>
    <script src="Scripts/modelform.js"></script>
    <script src="Scripts/profile.js"></script>
    <script src="Scripts/auth.js"></script>
  <script src="Scripts/createQuestions.js"></script>
</body>
</html>
