<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QUIZZKIT - Bài Giảng</title>
    <link rel="stylesheet" href="Styles/layout.css" />
    <link rel="stylesheet" href="Styles/lecture.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    if (!localStorage.getItem("loggedIn")) {
        window.location.href = "login.html";
    }
    </script>
    <link rel="stylesheet" href="Styles/layout.css" />
    <link rel="stylesheet" href="Styles/home.css" />
    <link rel="stylesheet" href="Styles/modelform.css" />
    <link rel="stylesheet" href="Styles/leaderboard.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="Scripts/auth.js"></script>
</head>
<body class="bg-gray-50">
    <!-- OVERLAY -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- SIDEBAR -->
    <aside class="layout-sidebar" id="sidebar">
        <div class="layout-sidebar__user">
            <img src="Images/Avatar.jpg" alt="Avatar" class="layout-sidebar__user-avatar">
            <div class="layout-sidebar__user-info">
                <div class="layout-sidebar__username">Guest User</div>
                <div class="layout-sidebar__usertag">Thành viên</div>
            </div>
        </div>
        <a class="layout-sidebar__item" href="index.html"><i class="fas fa-home mr-2"></i> Trang chủ</a>
        <a class="layout-sidebar__item" href="createQuestions.html"><i class="fas fa-question-circle mr-2"></i> Tạo câu hỏi</a>
        <!-- THÊM LINK XEM CÂU HỎI VÀO SIDEBAR -->
        <a class="layout-sidebar__item" href="./showQuestion.html"><i class="fas fa-eye mr-2"></i> Xem câu hỏi</a>
        <!-- THÊM LINK KHO ĐỀ VÀO SIDEBAR (đã có sẵn nhưng để rõ hơn) -->
        <a class="layout-sidebar__item" href="quiz-selector.html"><i class="fas fa-folder-open mr-2"></i> Kho đề</a>
        <a class="layout-sidebar__item" href="profile.html"><i class="fas fa-user mr-2"></i> Tài khoản</a>
        <a class="layout-sidebar__item" href="settings.html"><i class="fas fa-cog mr-2"></i> Cài đặt</a>
    </aside>

    <!-- MAIN -->
    <div class="layout-main">
        <!-- TOPBAR -->
        <header class="layout-topbar">
            <div class="layout-topbar__left">
                <div class="hamburger-menu" id="hamburgerMenu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="layout-topbar__logo">QUIZZKIT</div>
            </div>
            <div class="layout-topbar__search">
                <input type="text" placeholder="Tìm kiếm khóa học, quiz..." />
            </div>
            <div class="layout-topbar__avatar">
                <img src="Images/Avatar.jpg" alt="avatar" id="avatarBtn"/>
                <div class="layout-topbar__avatar-dropdown" id="avatarDropdown">
                    <a href="settings.html">Cài đặt</a>
                    <a href="login.html" onclick="logoutUser(event)">Đăng xuất</a>
                </div>
            </div>
        </header>

        <!-- NAVBAR -->
        <nav class="layout-navbar">
            <a class="layout-navbar__item" href="index.html">Trang chủ</a>
            <!-- THÊM LINK KHO ĐỀ VÀO NAVBAR -->
            <a class="layout-navbar__item" href="quiz-selector.html">Kho đề</a>
            <div class="dropdown">
                <a class="layout-navbar__item " href="modelform.html">Môn học <i class="fas fa-chevron-down text-xs"></i></a>
        <div class="dropdown-content">
            <a href="modelform.html" class="dropdown-item">Tất cả</a>
            <a href="modelform.html?category=math" class="dropdown-item">Toán học</a>
            <a href="modelform.html?category=physics" class="dropdown-item">Vật lý</a>
            <a href="modelform.html?category=chemistry" class="dropdown-item">Hóa học</a>
            <a href="modelform.html?category=biology" class="dropdown-item">Sinh học</a>
            <a href="modelform.html?category=literature" class="dropdown-item">Ngữ văn</a>
            <a href="modelform.html?category=english" class="dropdown-item">Tiếng Anh</a>
            <a href="modelform.html?category=history" class="dropdown-item">Lịch sử</a>
            <a href="modelform.html?category=geography" class="dropdown-item">Địa lý</a>
            <a href="modelform.html?category=computer" class="dropdown-item">Tin học</a>
            <a href="modelform.html?category=civics" class="dropdown-item">GDCD</a>
        </div>
    </div>
            <a class="layout-navbar__item" href="createQuestions.html">Tạo câu hỏi</a>
            <!-- THÊM LINK XEM CÂU HỎI VÀO NAVBAR -->
            <div class="relative group">
    <a class="layout-navbar__item flex items-center gap-1">
        Bảng xếp hạng <i class="fas fa-chevron-down text-xs ml-1"></i>
    </a>

    <div class="leaderboard-dropdown" x-data>
        <a href="leaderboard.html?tab=players"
           class="block"
           :class="{ 'active bg-yellow-50 ring-2 ring-yellow-400 rounded-lg': currentUrlTab() === 'players' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-trophy text-yellow-600"></i></span>
                <div><div class="title">Top Người Chơi</div><div class="desc">Điểm cao nhất tuần</div></div>
            </button>
        </a>

        <a href="leaderboard.html?tab=questions"
           class="block"
           :class="{ 'active bg-orange-50 ring-2 ring-orange-400 rounded-lg': currentUrlTab() === 'questions' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-fire text-orange-600"></i></span>
                <div><div class="title">Bài Giảng Hot Nhất</div><div class="desc">Lượt chơi nhiều nhất</div></div>
            </button>
        </a>

        <a href="leaderboard.html?tab=followers"
           class="block"
           :class="{ 'active bg-pink-50 ring-2 ring-pink-400 rounded-lg': currentUrlTab() === 'followers' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-heart text-pink-600"></i></span>
                <div><div class="title">Được Follow Nhiều Nhất</div><div class="desc">Idol cộng đồng</div></div>
            </button>
        </a>

        <a href="leaderboard.html?tab=creators"
           class="block"
           :class="{ 'active bg-purple-50 ring-2 ring-purple-400 rounded-lg': currentUrlTab() === 'creators' }">
            <button class="w-full text-left px-5 py-4 hover:bg-gray-100 transition">
                <span class="icon"><i class="fas fa-pen-nib text-purple-600"></i></span>
                <div><div class="title">Tác Giả Nổi Bật</div><div class="desc">Tạo quiz chất lượng</div></div>
            </button>
        </a>
    </div>
</div>

<!-- Hàm nhỏ này để dropdown ở các trang khác vẫn highlight đúng -->
<script>
function currentUrlTab() {
    const params = new URLSearchParams(window.location.search);
    const tab = params.get('tab');
    const valid = ['players', 'questions', 'followers', 'creators'];
    return tab && valid.includes(tab) ? tab : 'players';
}
</script>
            <a class="layout-navbar__item" href="profile.html">Tài khoản</a>
        </nav>


        <!-- CONTENT -->
        <section class="layout-content">
            <div class="max-w-5xl mx-auto">
                <!-- Simple Header -->
                <div class="bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-2xl p-8 mb-8 text-white content-section">
                    <h1 id="lectureTitle" class="text-4xl font-bold mb-3">Đang tải...</h1>
                    <p id="lectureDescription" class="text-white/90 text-lg">Mô tả bài giảng...</p>
                </div>

                <!-- Content Card -->
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-8 content-section">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b-2 border-purple-100">
                        <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
                        <h2 class="text-2xl font-bold text-gray-800">Nội dung bài giảng</h2>
                    </div>
                    
                    <div id="lectureContent" class="lecture-content text-gray-700 leading-relaxed"></div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col gap-4 content-section">
                    <!-- Main Action -->
                    <div class="flex gap-4 justify-center">
                        <button id="startQuizBtn" class="group relative px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300">
                            <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                            Ôn tập ngay
                        </button>
                        
                        <button onclick="window.location.href='modelform.html'" class="group relative px-8 py-4 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300">
                            <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg>
                            Quay lại danh sách
                        </button>
                    </div>

                    <!-- Social Actions -->
                    <div class="flex gap-3 justify-center flex-wrap">
                        <button class="action-btn flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all" id="likeBtn">
                            <svg class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/></svg>
                            <span class="font-semibold" id="likeCount">128</span>
                        </button>

                        <button class="action-btn flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all" id="dislikeBtn">
                            <svg class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"/></svg>
                            <span class="font-semibold" id="dislikeCount">12</span>
                        </button>

                        <button class="action-btn flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all" id="commentBtn">
                            <svg class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
                            <span class="font-semibold" id="commentCount">45</span>
                        </button>

                        <button class="action-btn flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all" id="shareBtn">
                            <svg class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/></svg>
                            <span class="font-semibold">Chia sẻ</span>
                        </button>

                        <button class="action-btn flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all" id="saveBtn">
                            <svg class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/></svg>
                            <span class="font-semibold save-text">Lưu</span>
                        </button>
                    </div>
                </div>

                <!-- Comment Section -->
                <div class="comment-section bg-white rounded-2xl shadow-xl p-8" id="commentSection">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Bình luận (45)</h3>
                    
                    <!-- Comment Input -->
                    <div class="flex gap-3 mb-6">
                        <img src="Images/Avatar.jpg" alt="User" class="w-10 h-10 rounded-full">
                        <div class="flex-1">
                            <textarea id="commentInput" rows="3" placeholder="Viết bình luận..." class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 outline-none resize-none"></textarea>
                            <button class="mt-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all" id="postCommentBtn">Đăng</button>
                        </div>
                    </div>

                    <!-- Comments List -->
                    <div class="space-y-4" id="commentsList">
                        <div class="comment-item p-4 rounded-lg">
                            <div class="flex gap-3">
                                <img src="https://i.pravatar.cc/150?img=5" alt="User" class="w-10 h-10 rounded-full">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="font-semibold text-gray-800">Nguyễn Văn A</span>
                                        <span class="text-sm text-gray-500">2 giờ trước</span>
                                    </div>
                                    <p class="text-gray-700">Bài giảng rất chi tiết và dễ hiểu. Cảm ơn thầy!</p>
                                </div>
                            </div>
                        </div>

                        <div class="comment-item p-4 rounded-lg">
                            <div class="flex gap-3">
                                <img src="https://i.pravatar.cc/150?img=8" alt="User" class="w-10 h-10 rounded-full">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="font-semibold text-gray-800">Trần Thị B</span>
                                        <span class="text-sm text-gray-500">5 giờ trước</span>
                                    </div>
                                    <p class="text-gray-700">Video giải thích rất hay, mình đã hiểu rõ hơn về chủ đề này.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="layout-footer">
            <div class="layout-footer-container">
                <div class="layout-footer-section">
                    <h3>Giới thiệu</h3>
                    <p>QUIZZKIT là nền tảng cung cấp các câu đố vui và thử thách trí tuệ.</p>
                </div>
                <div class="layout-footer-section">
                    <h3>Liên hệ</h3>
                    <p>Email: <a href="mailto:nhatthanh@quizzz.vn">nhatthanh@quizzz.vn</a></p>
                    <p>Hotline: 0123 456 789</p>
                </div>
                <div class="layout-footer-section">
                    <h3>Liên kết nhanh</h3>
                    <p><a href="index.html">Trang chủ</a></p>
                    <p><a href="modelform.html">Câu hỏi</a></p>
                    <p><a href="settings.html">Cài đặt</a></p>
                </div>
                <div class="layout-footer-section">
                    <h3>Cộng đồng</h3>
                    <p><a href="https://facebook.com" target="_blank">Facebook</a></p>
                    <p><a href="https://instagram.com" target="_blank">Instagram</a></p>
                    <p><a href="https://discord.com" target="_blank">Discord</a></p>
                </div>
            </div>
            <div class="layout-footer-bottom">
                <p>© 2025 Quizzz. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Share Notification -->
    <div class="share-notification" id="shareNotification">
        ✓ Đã sao chép link!
    </div>

    <script src="Scripts/layout.js"></script>
    <script src="Scripts/lecture.js"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="Scripts/leaderboard.js"></script>
    <script src="Scripts/modelform.js"></script>
    <script src="Scripts/profile.js"></script>
    <script src="Scripts/auth.js"></script>
</body>
</html>